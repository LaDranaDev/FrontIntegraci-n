<app-operativa-header tituloPantalla="{{'menu.sterling.tamanobuzon' | translate}}"></app-operativa-header>

<div id="tamanobuzon" class="panel panel-default col-xs-12 col-sm-12 col-md-12 col-lg-12">

    <div class="card mt-3" *ngIf="!tabla || tabla.length === 0">
        <h5 class="card-header justify-content-center"> {{'pantalla.monitoreo.monitorArchivoCurso.busqueda' | translate}} </h5>
        <br>
        <form [formGroup]="gestionbuzonForm">

            <div class="row">
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-1">
                    <label for="fechaInicio1" class="col-form-label labelDate">{{'menu.sterling.tamanobuzon.agrupar' | translate}}</label>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 offset-1">
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="filtro" formControlName="filtro" id="filtro" value="NUM_TAMA_MB">
                            <label class="form-check-label" for="filtro">&nbsp;&nbsp;{{'menu.sterling.tamanobuzon.tamano' | translate}} MB</label>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="filtro" formControlName="filtro" id="filtro" value="NUM_TOTAL">
                            <label class="form-check-label" for="flexRadioDefault2">&nbsp;&nbsp;{{'menu.sterling.tamanobuzon.total' | translate}} </label>
                        </div>
                    </div>
                </div>
            </div>


        <div class="row">
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-1">
                <label for="fechaInicio" class="col-form-label labelDate">{{'menu.sterling.tamanobuzon.mostrar' | translate}}</label>
            </div>
            <div class="ccol-xs-3 col-sm-3 col-md-3 col-lg-3 offset-1">
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="tamanoMB" formControlName="tamanoMB" id="tamanoMB" [(ngModel)]="tamanoMB">
                        <label class="form-check-label" for="tamanoMB">&nbsp;&nbsp;{{'menu.sterling.tamanobuzon.tamano' | translate}} MB</label>
                    </div>
                </div>
            </div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="total" formControlName="total" id="total" [(ngModel)]="total">
                        <label class="form-check-label" for="total">&nbsp;&nbsp;{{'menu.sterling.tamanobuzon.total' | translate}} </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-1">
                <label class="col-form-label">{{'pantalla.controlVolumenOperativo.graficaArchivoCliente.periodo' | translate}}:</label>
            </div>
            <div class="col-xs-auto col-sm-auto col-md-auto col-lg-auto">
                <label for="fechaInicio" class="col-form-label labelDate">{{'pantalla.controlVolumenOperativo.graficaArchivoCliente.fechaInicio' | translate}}</label>
              </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                <div class="input-group">
                    <input type="text" class="form-control" id="fechaInicio" name="fechaInicio" formControlName="fechaInicio" readonly required
                        bsDatepicker #dpFechaInicio="bsDatepicker"
                        [bsConfig]="datePickerConfig">
                    <div class="input-group-append">
                        <button class="btn btn-outline-danger" type="button" id="btnFechaInicio" name="btnFechaInicio"
                                (click)="dpFechaInicio.toggle()"
                                [attr.aria-expanded]="dpFechaInicio.isOpen">
                            <em class="fa fa-calendar"></em>
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-xs-auto col-sm-auto col-md-auto col-lg-auto">
                <label for="fechaFin" class="col-form-label labelDate">{{'pantalla.controlVolumenOperativo.graficaArchivoCliente.fechaFin' | translate}}</label>
              </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                <div class="input-group">
                    <input type="text" class="form-control" id="fechaFin" name="fechaFin" formControlName="fechaFin" readonly required
                        bsDatepicker #dpFechaFin="bsDatepicker"
                        [bsConfig]="datePickerConfig">
                    <div class="input-group-append">
                        <button class="btn btn-outline-danger" type="button" id="btnFechaFin" name="btnFechaFin"
                                (click)="dpFechaFin.toggle()"
                                [attr.aria-expanded]="dpFechaFin.isOpen">
                            <em class="fa fa-calendar"></em>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        </form>

            <div class="row mt-2">
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-xs-1 offset-sm-1 offset-md-1 offset-lg-1">
                    <button type="button" class="btn btn-danger" (click)="eventCleanGT()">{{'btn.limpiar' | translate}}</button>
                </div>
                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-xs-8 offset-sm-8 offset-md-8 offset-lg-8">
                    <button type="button" class="btn btn-danger" (click)="eventoConsultarGT()">{{'btn.buscar' | translate}}</button>
                </div>
            </div>
        <br>
        <br>
    </div>

    <div class="card my-1" *ngIf="tabla && tabla.length > 0">
        <h5 class="card-header justify-content-center">
            {{'pantalla.consultarBuzon.resultadoBusqueda.title' | translate}}
        </h5>
        <div class="card-body">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <table class="table table-striped table-hover" aria-describedby="graficaTamBuzon">
                        <thead>
                            <tr>
                                <th class="text-center" scope="col">{{'menu.sterling.tamanobuzon.buzon' | translate}}</th>
                                <th class="text-center" scope="col" *ngIf="tamanoMB">{{'menu.sterling.tamanobuzon.tamano' | translate}} MB</th>
                                <th class="text-center" scope="col" *ngIf="total">{{'menu.sterling.tamanobuzon.tamano' | translate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let buzon of tabla">
                                <td class="text-center">{{buzon.buzonera}}</td>
                                <td class="text-center" *ngIf="tamanoMB">{{buzon.tamanioMB}}</td>
                                <td class="text-center" *ngIf="total">{{buzon.numTotal}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5" [hidden]="tabla.length <= 0">
        <canvas id="chart">{{ chart }}</canvas>
    </div>

    <div class="row my-2" *ngIf="tabla && tabla.length > 0">
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-xs-1 offset-sm-1 offset-md-1 offset-lg-1">
            <button type="button" class="btn btn-danger" (click)="regresar()">{{'btn.regresar' | translate}}</button>
        </div>
        <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1 offset-xs-8 offset-sm-8 offset-md-8 offset-lg-8">
            <button type="button" class="btn btn-danger" (click)="exportar()">{{'btn.exportar' | translate}}</button>
        </div>
    </div>

</div>